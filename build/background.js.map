{"version":3,"file":"background.js","sources":["D:/Arken/C++/ElectronProjects/test1/app/vendor/electron_boilerplate/window_state.js","D:/Arken/C++/ElectronProjects/test1/app/vendor/electron_boilerplate/dev_helper.js","D:/Arken/C++/ElectronProjects/test1/app/env.js","D:/Arken/C++/ElectronProjects/test1/app/background.js"],"sourcesContent":["// Simple module to help you remember the size and position of windows.\n// Can be used for more than one window, just construct many\n// instances of it and give each different name.\n\nimport { app } from 'electron';\nimport jetpack from 'fs-jetpack';\n\nexport default function (name, defaults) {\n\n    var userDataDir = jetpack.cwd(app.getPath('userData'));\n    var stateStoreFile = 'window-state-' + name +'.json';\n\n    var state = userDataDir.read(stateStoreFile, 'json') || {\n        width: defaults.width,\n        height: defaults.height\n    };\n\n    var saveState = function (win) {\n        if (!win.isMaximized() && !win.isMinimized()) {\n            var position = win.getPosition();\n            var size = win.getSize();\n            state.x = position[0];\n            state.y = position[1];\n            state.width = size[0];\n            state.height = size[1];\n        }\n        state.isMaximized = win.isMaximized();\n        userDataDir.write(stateStoreFile, state, { atomic: true });\n    };\n\n    return {\n        get x() { return state.x; },\n        get y() { return state.y; },\n        get width() { return state.width; },\n        get height() { return state.height; },\n        get isMaximized() { return state.isMaximized; },\n        saveState: saveState\n    };\n}\n","import { app, Menu, BrowserWindow } from 'electron';\n\nvar setDevMenu = function () {\n    var devMenu = Menu.buildFromTemplate([{\n        label: 'Development',\n        submenu: [{\n            label: 'Reload',\n            accelerator: 'CmdOrCtrl+R',\n            click: function () {\n                BrowserWindow.getFocusedWindow().webContents.reloadIgnoringCache();\n            }\n        },{\n            label: 'Toggle DevTools',\n            accelerator: 'Alt+CmdOrCtrl+I',\n            click: function () {\n                BrowserWindow.getFocusedWindow().toggleDevTools();\n            }\n        },{\n            label: 'Quit',\n            accelerator: 'CmdOrCtrl+Q',\n            click: function () {\n                app.quit();\n            }\n        }]\n    }]);\n    Menu.setApplicationMenu(devMenu);\n};\n\nexport default {\n    setDevMenu: setDevMenu,\n}\n","// Simple module exposes environment variables to rest of the code.\n\nimport jetpack from 'fs-jetpack';\n\nvar app;\nif (process.type === 'renderer') {\n    app = require('electron').remote.app;\n} else {\n    app = require('electron').app;\n}\nvar appDir = jetpack.cwd(app.getAppPath());\n\nvar manifest = appDir.read('package.json', 'json');\n\nexport default manifest.env;\n","// This is main process of Electron, started as first thing when your\n// app starts. This script is running through entire life of your application.\n// It doesn't have any windows which you can see on screen, but we can open\n// window from here.\n\nimport { app, BrowserWindow } from 'electron';\nimport devHelper from './vendor/electron_boilerplate/dev_helper';\nimport windowStateKeeper from './vendor/electron_boilerplate/window_state';\n\n// Special module holding environment variables which you declared\n// in config/env_xxx.json file.\nimport env from './env';\n\nvar mainWindow;\n\n// Preserver of the window size and position between app launches.\nvar mainWindowState = windowStateKeeper('main', {\n    width: 1600,\n    height: 900\n});\n\napp.on('ready', function () {\n    var appRoot = require('path').join(__dirname, '..');\n    require('electron-compile').init(appRoot,'./background');\n    mainWindow = new BrowserWindow({\n        x: mainWindowState.x,\n        y: mainWindowState.y,\n        width: 1600,\n        height: 900,\n        icon:  __dirname + \"/icon.png\",\n        title:\"Chiika - Powerful anime/manga client\"\n    });\n\n    if (mainWindowState.isMaximized) {\n        mainWindow.maximize();\n    }\n\n    if (env.name === 'test') {\n        mainWindow.loadURL('file://' + __dirname + '/spec.html');\n    } else {\n        mainWindow.loadURL('file://' + __dirname + '/app.html');\n    }\n\n    if (env.name !== 'production') {\n        devHelper.setDevMenu();\n        //mainWindow.openDevTools();\n    }\n\n    mainWindow.on('close', function () {\n        mainWindowState.saveState(mainWindow);\n    });\n});\n\napp.on('window-all-closed', function () {\n    app.quit();\n});\n"],"names":["app","Menu","BrowserWindow"],"mappings":"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"}